fn sublists(elems, index)
  if index == len(elems) then
    [[]]
  else
    prefix = [elems[index]]
    suffixes = sublists(elems, index + 1)
    (suffixes $ prefix + arg) + suffixes
  end
end

fn subsets(elems)
  elems
    | List.of
    | sublists(0)
    $ Set.of
end

"abcd"
  | chars
  | Set.of
  | subsets
  | print
