symbols = "BEOec<+::~~~-----       "

fn render(x0, y0)
  iters = 0
  x = x0
  y = y0

  while x ** 2 + y ** 2 < 4 and iters < len(symbols) - 1 do
    xTmp = x ** 2 - y ** 2 + x0
    y = 2 * x * y + y0
    x = xTmp
    iters += 1
  end

  symbols[iters]
end

width = 42
height = 100

for r in span(0, width) do
  y0 = r * 2.6 / width - 1.3
  row = ""

  for c in span(0, height) do
    x0 = c * 3 / height - 2.1
    row += render(x0, y0)
  end

  print(row)
end
