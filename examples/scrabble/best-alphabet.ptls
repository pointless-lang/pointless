points = import "json:points.json"
text = import "text:alice.txt"

fn wordInfo(word)
  score = word
    | chars
    $ points[arg]
    | sum

  { letter: chars(word)[0], word, score }
end

fn getBest(words)
  Table.maxBy(words, "score")
end

text
  | split(" ")
  | List.unique
  $ wordInfo
  | Table.of
  | Table.summarize("letter", getBest)
  | sortBy("letter")
  | print
